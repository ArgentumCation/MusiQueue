<!doctype html>
<html lang="en">

<head>
    <title>Queuer</title>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="./favicon.ico" type="image/x-icon">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="./style/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.css">
    <meta name="author" content="Sailesh Sivakumar">
    <meta name="description" content="Queuer website">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
    </script>
</head>

<body>
    <header>
        <nav>
            <ul class="menu">
                <div class="menu">
                <li class="logo"><a href="#">
                        <h1><a href="#">Queuer</a></h1>
                    </a></li>
                <li class="item"><a href="./index.html">Home</a></li>
                <li class="item"><a href="./about.html">About</a></li>
                <li class="item"><a href="https://github.com/info340b-wi20/project-ajayk111" target="_blank">GitHub</a></li>
                <li class="toggle" aria-label="menu"><a href="#"><i class="fas fa-bars"></i></a></li>

                <script>
                    $(function() {
                        $(".toggle").on("click", function() {
                            $(".item").each(function(i) {
                                if (this.style.display === "block") {
                                    this.style.display = "none";
                                } else {
                                    this.style.display = "block";
                                }
                            })
                        })
                    });
                </script>
            </ul>
        </ul>
        </nav>
    </header>
    <main class="main">
        <div class="dashboard">
            <p><strong>Instructions: </strong>Select "Join room" if somebody is already hosting a listening session. Otherwise, click "Create room" to begin a session.
                Then, search for a song below and click to add it to the queue. Click on a song in the queue to remove it</p>

            <div class="room-functions">
                <button type="button" id="join-room" class="btn btn-primary btn-lg">Join room</button>
                <button type="button" id="create-room" class="btn btn-secondary btn-lg">Create room</button>
            </div>

            <form>
                <div class="search">
                    <button aria-label="search" id="search-button"><i class="fas fa-search"></i></button>
                    <label for="searchbar"></label>
                    <input type="text" placeholder="Search for a song" name="searchbar" id="searchbar"></input>
                </div>
            </form>
            <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
            <div id="player" style="width:100%;height:15em"></div>

            <script>
                // 2. This code loads the IFrame Player API code asynchronously.
                var tag = document.createElement('script');

                tag.src = "https://www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                // 3. This function creates an <iframe> (and YouTube player)
                //    after the API code downloads.
                var player;

                function onYouTubeIframeAPIReady() {
                    player = new YT.Player('player', {


                        videoId: '8tPnX7OPo0Q',
                        events: {
                            'onReady': onPlayerReady,
                            'onStateChange': onPlayerStateChange
                        }
                    });
                }

                // 4. The API will call this function when the video player is ready.
                function onPlayerReady(event) {
                    event.target.playVideo();
                }

                // 5. The API calls this function when the player's state changes.
                //    The function indicates that when playing a video (state=1),
                //    the player should play for six seconds and then stop.
                var done = false;

                function onPlayerStateChange(event) {
                    if (event.data == YT.PlayerState.ENDED) {
                        state.queue.shift();
                        if (state.queue.length > 0) {
                            player.loadVideoById(state.queue[0].id)
                        }
                        renderQueue();
                    }
                }

                function stopVideo() {
                    player.stopVideo();
                }
            </script>
            <div class="media-controls">
                <!-- <button id="previous" aria-label="previous"><i class="fas fa-step-backward"></i></button> -->
                <button id="play" aria-label="play pause"><i class="fas fa-play"></i></button>
                <button id="next" aria-label="next"><i class="fas fa-step-forward"></i></button>
            </div>
            <div class="search-results">
                <div class="card-container">

                </div>
            </div>
        </div>
        <div>
            <div class="queue-header">Queue</div>
            <div class="card-container">


            </div>
        </div>
    </main>
    <footer>
        Copyright 2020 Ajay Kristipati, Daniel Lin, Sailesh Sivakumar
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>

    <script src="js/config.js"></script>
    <script src="js/index.js"></script>
</body>

</html>