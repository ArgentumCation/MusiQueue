(this["webpackJsonpproject-ajayk111"]=this["webpackJsonpproject-ajayk111"]||[]).push([[0],{13:function(e,t,n){e.exports=n(24)},18:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(12),i=n.n(c),s=(n(18),n(2)),l=n(3),u=n(5),p=n(4),d=n(6),h=n(7),m=n(8),b=function(e){function t(){var e;Object(s.a)(this,t),(e=Object(u.a)(this,Object(p.a)(t).call(this))).mqlListener=function(){e.setState({desktopMode:!e.state.desktopMode,displayMenu:!e.state.desktopMode})},e.toggleMenu=function(){e.setState({displayMenu:!e.state.displayMenu})},e.enqueue=function(t){var n=e.state.queue;n.push(t),e.setState({queue:n})},e.dequeue=function(t){var n=e.state.queue,a=n.indexOf(t,0);a>-1&&n.splice(a,1),e.setState({queue:n})};var n=window.matchMedia("(min-width: 468px)");return n.addListener(e.mqlListener),e.state={desktopMode:n.matches,displayMenu:n.matches,queue:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(f,{displayMenu:this.state.displayMenu,menuCallback:this.toggleMenu}),o.a.createElement(v,{dequeue:this.dequeue,enqueue:this.enqueue,songQueue:this.state.queue}),o.a.createElement(Q,null))}}]),t}(r.Component),f=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("header",null,o.a.createElement("nav",null,o.a.createElement("ul",{className:"menu"},o.a.createElement(y,null)," ",[{dest:"/",text:"Home"},{dest:"about.html",text:"About"},{dest:"https://github.com/info340b-wi20/project-ajayk111",text:"GitHub"}].map((function(t){return o.a.createElement(S,{key:t.text,displayMenu:e.props.displayMenu,dest:t.dest,text:t.text})})),o.a.createElement(x,{menuCallback:this.props.menuCallback}))))}}]),t}(r.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("li",{className:"logo"},o.a.createElement("h1",null,o.a.createElement("a",{href:"index.html"},"MusiQueue")))}}]),t}(r.Component),v=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("main",null,o.a.createElement(w,{dequeue:this.props.dequeue,songQueue:this.props.songQueue,enqueue:this.props.enqueue}),o.a.createElement(N,{dequeue:this.props.dequeue,songQueue:this.props.songQueue}))}}]),t}(r.Component),g=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("p",null,o.a.createElement("strong",null,"Instructions:"),' Select "Join room" if somebody is already hosting a listening session. Otherwise, click "Create room" to begin a session. Then, search for a song below and click to add it to the queue. Click on a song in the queue to remove it')}}]),t}(r.Component),j=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){n.setState({value:e.target.value})},n.search=function(e){e.preventDefault();var t=n.state.value,a=new Headers;a.append("Accept","application/json"),fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=25&q="+t+"&key=AIzaSyCwlrxe-0OpRgnkt31ng6LXGRGbTnX0Vb4",{method:"GET",headers:a,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){var t=JSON.parse(e).items,a=[],r=!0,o=!1,c=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var l=i.value,u={title:l.snippet.title,artist:l.snippet.channelTitle,cover:l.snippet.thumbnails.default.url,id:l.id.videoId};void 0!=u.id&&a.push(u)}}catch(p){o=!0,c=p}finally{try{r||null==s.return||s.return()}finally{if(o)throw c}}n.props.searchCallback(a)})).catch((function(e){return console.log("error",e)}))},n.state={value:""},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",null,o.a.createElement("div",{className:"search"},o.a.createElement("button",{"aria-label":"search",id:"search-button",onClick:this.search},o.a.createElement(h.a,{icon:m.c})),o.a.createElement("label",{htmlFor:"searchbar"}),o.a.createElement("input",{type:"text",onChange:this.handleChange,placeholder:"Search for a song",name:"searchbar",id:"searchbar"})))}}]),t}(r.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.song,t=this.props.enqueueCallback;return o.a.createElement("div",{className:"card",onClick:function(){return t(e)}},o.a.createElement("p",{className:"song-title"},e.title),o.a.createElement("p",{className:"song-artist"},e.artist),o.a.createElement("p",{className:"song-length"},JSON.stringify(e)),o.a.createElement("div",{className:"song-art"},o.a.createElement("img",{src:e.cover})))}}]),t}(r.Component),E=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.song,t=this.props.dequeueCallback;return o.a.createElement("div",{className:"card"},o.a.createElement("button",{className:"close-button","aria-label":"Close Account Info Modal Box",onClick:function(){return t(e)}},"\xd7"),o.a.createElement("p",{className:"song-title"},e.title),o.a.createElement("p",{className:"song-artist"},e.artist),o.a.createElement("p",{className:"song-length"},JSON.stringify(e)),o.a.createElement("div",{className:"song-art"},o.a.createElement("img",{src:e.cover})))}}]),t}(r.Component),k=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.player;return o.a.createElement("div",{className:"media-controls"},o.a.createElement("button",{id:"play","aria-label":"play pause",onClick:function(t){t.preventDefault(),console.log("test");var n=e.current.player.getPlayerState();1==n?e.current.player.pauseVideo():2==n&&e.current.player.playVideo()}},o.a.createElement(h.a,{icon:m.b})),o.a.createElement("button",{id:"next","aria-label":"next"},o.a.createElement(h.a,{icon:m.d})))}}]),t}(r.Component),w=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).updateSearchResults=function(e){n.setState({searchResults:e})},n.addToQueue=function(e){0==n.props.songQueue&&(n.showPlayer(),n.player.current.player.loadVideoById(e.id)),n.props.enqueue(e)},n.player=o.a.createRef(),n.state={searchResults:[],playerVisible:!1},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"showPlayer",value:function(){this.setState({playerVisible:!0})}},{key:"render",value:function(){return o.a.createElement("div",{className:"dashboard"},o.a.createElement(g,null),o.a.createElement("div",{className:"room-functions"},o.a.createElement("button",{type:"button",id:"join-room",className:"btn btn-primary btn-lg"},"Join room"),o.a.createElement("button",{type:"button",id:"create-room",className:"btn btn-secondary btn-lg"},"Create room")),o.a.createElement("input",{type:"text",id:"room-input",placeholder:"Enter room code"}),o.a.createElement(j,{searchCallback:this.updateSearchResults}),o.a.createElement("div",{style:{display:this.state.playerVisible?"block":"none"}},o.a.createElement(q,{songQueue:this.props.songQueue,dequeue:this.props.dequeue,ref:this.player,show:this.showPlayer,YTid:"8tPnX7OPo0Q"})),o.a.createElement(k,{player:this.player}),o.a.createElement(C,{enqueueCallback:this.addToQueue,songList:this.state.searchResults}))}}]),t}(r.Component),C=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.enqueueCallback;return o.a.createElement("div",{className:"search-results"},o.a.createElement("div",{className:"card-container"},this.props.songList?this.props.songList.map((function(t){return o.a.createElement(O,{enqueueCallback:e,key:t.id,song:t})})):" "))}}]),t}(r.Component),q=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).onPlayerReady=function(e){e.target.playVideo()},n.player={},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;a||(a=new Promise((function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),window.onYouTubeIframeAPIReady=function(){return e(window.YT)}}))),a.then((function(t){e.player=new t.Player("player",{videoId:e.props.YTid,events:{onReady:e.onPlayerReady,onStateChange:function(n){n.data==t.PlayerState.ENDED&&(console.log(e.props.songQueue.length),e.props.dequeue(),console.log(e.props.songQueue[0]),e.props.songQueue.length>0&&e.player.loadVideoById(e.props.songQueue[0].id))}}})}))}},{key:"render",value:function(){return o.a.createElement("div",{id:"player"})}}]),t}(r.Component),N=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).removeFromQueue=function(e){n.props.dequeue(e)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"queue-header"},"Queue"),o.a.createElement("div",{className:"card-container"},this.props.songQueue.map((function(t){return o.a.createElement(E,{dequeueCallback:e.removeFromQueue,key:t.id,song:t})}))))}}]),t}(r.Component),S=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.dest,t=this.props.text,n=this.props.displayMenu?"block":"none";return o.a.createElement("li",{className:"item",style:{display:n}},o.a.createElement("a",{href:e},t))}}]),t}(r.Component),x=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("li",{className:"toggle",onClick:this.props.menuCallback},o.a.createElement("button",null,o.a.createElement(h.a,{icon:m.a})))}}]),t}(r.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("footer",null,"\xa9 2020 Ajay Kristipati, Daniel Lin, Sailesh Sivakumar")}}]),t}(r.Component),M=b,R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(o.a.createElement(M,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");R?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}},[[13,1,2]]]);
//# sourceMappingURL=main.7bf5dece.chunk.js.map